<ion-content>
  <ion-grid class="ion-justify-content-start ion-align-items-center">
    <ion-row>
      <ion-col size="6" offset="3">
        <ion-card>
          <ion-card-header>
            Création d'un nouvel utilisateur
          </ion-card-header>

          <ion-card-content>
            <form [formGroup]="userForm" (ngSubmit)="createUser()">
              <ion-item>
                <ion-label position="floating">Nom</ion-label>
                <ion-input name="nom" type="text" formControlName="lastName" required></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Prénom</ion-label>
                <ion-input name="prenom" type="text" formControlName="firstName" required></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Date de naissance</ion-label>
                <ion-datetime displayFormat="DD/MM/YYYY" type="bday" min="1960-01-01" formControlName="birthDate"
                              doneText="Valider" cancelText="Annuler" required></ion-datetime>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Email</ion-label>
                <ion-input name="email" type="email" formControlName="mail" required></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Téléphone</ion-label>
                <ion-input name="phone" type="tel" formControlName="phoneNumber" required></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Mot de passe</ion-label>
                <ion-input name="password" type="password" formControlName="password" required></ion-input>
              </ion-item>


              <p>
                <ion-chip *ngFor="let role of roleList" (click)="addRole(role)">
                  <ion-icon name="add"></ion-icon>
                  <ion-label>{{role.name}}</ion-label>
                </ion-chip>
              </p>

              <p>
                <ion-chip color="primary" *ngFor="let role of userRoles, let i = index" (click)="removeRole(i)">
                  <ion-label>{{role.name}}</ion-label>
                </ion-chip>
              </p>




              <ion-button [disabled]="!userForm.valid" color="tertiary" expand="block" type="submit">
                <ion-icon slot="end" name="log-in-outline"></ion-icon>
                Sauvegarder
              </ion-button>
            </form>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
